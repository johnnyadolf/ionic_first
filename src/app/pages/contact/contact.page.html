<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Contact Us</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate>
    <ion-item>
      <ion-label position="floating">Name</ion-label>
      <ion-input formControlName="name" type="text" required></ion-input>
    </ion-item>
    <ion-note
      color="danger"
      *ngIf="(f.name.touched || submitted) && f.name.errors?.['required']"
      slot="error"
    >
      Name is required
    </ion-note>
    <ion-note
      color="danger"
      *ngIf="(f.name.touched || submitted) && f.name.errors?.['minlength']"
      slot="error"
    >
      Name must be at least 3 characters
    </ion-note>

    <ion-item>
      <ion-label position="floating">Email</ion-label>
      <ion-input formControlName="email" type="email" required></ion-input>
    </ion-item>
    <ion-note
      color="danger"
      *ngIf="(f.email.touched || submitted) && f.email.errors?.['required']"
      slot="error"
    >
      Email is required
    </ion-note>
    <ion-note
      color="danger"
      *ngIf="(f.email.touched || submitted) && f.email.errors?.['email']"
      slot="error"
    >
      Invalid email address
    </ion-note>

    <ion-item>
      <ion-label position="floating">Subject</ion-label>
      <ion-input formControlName="subject" type="text" required></ion-input>
    </ion-item>
    <ion-note
      color="danger"
      *ngIf="(f.subject.touched || submitted) && f.subject.errors?.['required']"
      slot="error"
    >
      Subject is required
    </ion-note>

    <ion-item>
      <ion-label position="floating">Message</ion-label>
      <ion-input>
        <ion-textarea
          formControlName="message"
          rows="6"
          required
          minlength="10"
        ></ion-textarea>
      </ion-input>
    </ion-item>
    <ion-note
      color="danger"
      *ngIf="(f.message.touched || submitted) && f.message.errors?.['required']"
      slot="error"
    >
      Message is required
    </ion-note>
    <ion-note
      color="danger"
      *ngIf="(f.message.touched || submitted) && f.message.errors?.['minlength']"
      slot="error"
    >
      Message must be at least 10 characters
    </ion-note>

    <ion-button
      expand="block"
      type="submit"
      [disabled]="contactForm.invalid"
      shape="round"
      class="submit-button"
    >
      Send Message
    </ion-button>
  </form>

  <ion-text *ngIf="success" color="success" class="success-message">
    <p>Thank you! Your message has been sent.</p>
  </ion-text>
</ion-content>
